___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.

___INFO___

{
  "displayName": "Smarter Click",
  "description": "Smarter Click's Optimization Service will significantly boost your website Conversion Rate, through our onsite and offsite tools. See https://smarterclick.com/ for more information",
  "categories": ["MARKETING", "AFFILIATE_MARKETING", "SALES"],
  "securityGroups": [],
  "id": "cvt_temp_public_id",
  "type": "TAG",
  "version": 1,
  "brand": {
    "thumbnail": "data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MCA3OS4xNjA0NTEsIDIwMTcvMDUvMDYtMDE6MDg6MjEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NjE0OWIzODQtOWMyZi00ODczLTk5NmYtZTFmNWMwNTk5YzlhIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkQ0REEwMTRCRDNBRTExRTlBQjZBQjFFQkE0OTIzNjlGIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkQ0REEwMTRBRDNBRTExRTlBQjZBQjFFQkE0OTIzNjlGIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjE0OWIzODQtOWMyZi00ODczLTk5NmYtZTFmNWMwNTk5YzlhIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjYxNDliMzg0LTljMmYtNDg3My05OTZmLWUxZjVjMDU5OWM5YSIvPiA8L3JkZjpEZXNjcmlwdGlv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",
    "displayName": "Smarter Click Tag",
    "id": "brand_dummy"
  },
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "notSetText": "Your Tag ID is provided by your Smarter Click representative",
    "help": "Your Tag ID is provided by your Smarter Click representative",
    "displayName": "Tag ID",
    "simpleValueType": true,
    "name": "tagID",
    "type": "TEXT",
    "valueHint": "example.com"
  }
]


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://*.smct.co/*"
              },
              {
                "type": 1,
                "string": "https://smct.co/*"
              },
              {
                "type": 1,
                "string": "https://ep.smct.co/*"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "$smcInstall"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const injectScript = require('injectScript');
const log = require('logToConsole');
const copyFromWindow = require('copyFromWindow');
const setInWindow = require('setInWindow');
const smc = copyFromWindow('$smcInstall');
const encodeUriComponent = require('encodeUriComponent');
if(typeof smc === 'undefined') {
	setInWindow('$smcInstall', 1, true);
    const url = 'https://smct.co/tm/?t='+encodeUriComponent(data.tagID);
    injectScript(url, data.gtmOnSuccess, data.gtmOnFailure, 'smarterclick');
} else {
  	data.gtmOnFailure();
}


___NOTES___

Created on 12/08/2019, 10:38:30
